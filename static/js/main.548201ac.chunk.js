(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={container:"user-type-select_container__2b1HD",title:"user-type-select_title__12hnM",button:"user-type-select_button__2qh8y"}},13:function(e,t,n){e.exports={form:"message-form_form__1-4sx",input:"message-form_input__2WjEe",button:"message-form_button__3dUg8"}},15:function(e,t,n){e.exports={container:"container_container__AQddp",title:"container_title__2eTKJ"}},16:function(e,t,n){e.exports={status:"connection-status_status__pjtXu"}},17:function(e,t,n){e.exports={card:"id-card_card__2uAiN",label:"id-card_label__3irN_"}},18:function(e,t,n){e.exports={container:"chat-section_container__14xhy",title:"chat-section_title__3LP_d"}},19:function(e,t,n){e.exports={list:"message-list_list__eTF0W",listItem:"message-list_listItem__3eVs_"}},30:function(e,t,n){e.exports={container:"connection-display_container__2Iym-"}},33:function(e,t,n){e.exports=n(58)},38:function(e,t,n){},51:function(e,t){},53:function(e,t){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),o=n.n(r),s=(n(38),n(1)),i=n(15),l=n.n(i),u=n(30),m=n.n(u),f=n(2),_=n(16),d=n.n(_),b=function(e){var t=e.setIsConnected,n=Object(a.useContext)(f.a),r=Object(a.useState)("No Connection"),o=Object(s.a)(r,2),i=o[0],l=o[1];return Object(a.useEffect)(function(){n&&n.on("connect",function(){t(!0),l("Connected!!!")})},[n,t]),c.a.createElement("div",{className:d.a.container},c.a.createElement("p",{className:d.a.status},i))},E=n(17),p=n.n(E),O=function(e){var t=e.label,n=e.id;return c.a.createElement("div",{className:p.a.card},c.a.createElement("h2",{className:p.a.label},t),c.a.createElement("p",null,n?JSON.stringify(n):"No Id Found."))},v=function(){var e=Object(a.useContext)(f.a),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)(function(){e&&e.on("signal",function(e){"type"in e&&o(e)})},[e]),c.a.createElement(O,{label:"Your Id",id:r})},h=n(9),N=n.n(h),j=n(12),g=function(e){var t=e.setOtherId,n=Object(j.a)(""),r=Object(a.useContext)(f.a);return c.a.createElement("form",{className:N.a.form,onSubmit:function(e){e.preventDefault();var a=n.value.trim();if(a){var c=JSON.parse(a);t(c),console.log({otherId:c}),r.signal(a)}}},c.a.createElement("h2",{className:N.a.heading},"Other Id"),c.a.createElement("textarea",Object.assign({className:N.a.textarea},n)),c.a.createElement("button",{className:N.a.button},"save"))},x=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",null,n?c.a.createElement(O,{label:"Other Id",id:n}):c.a.createElement(g,{setOtherId:r}))},I=n(32),w=n(18),y=n.n(w),C=n(13),S=n.n(C),k=function(e){var t=e.addMessage,n=Object(a.useContext)(f.a),r=Object(j.a)("");return c.a.createElement("form",{className:S.a.form,onSubmit:function(e){e.preventDefault();var a=r.value;n.send(a),t(a),r.setValue("")}},c.a.createElement("input",Object.assign({className:S.a.input},r)),c.a.createElement("button",{className:S.a.button},"send"))},A=n(19),D=n.n(A),J=function(e){var t=e.messages;return c.a.createElement("ul",{className:D.a.list},t.map(function(e,t){return c.a.createElement("li",{key:t,className:D.a.listItem},e)}))},M=function(){var e=Object(a.useContext)(f.a),t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],o=n[1],i=function(e){o(function(t){return[].concat(Object(I.a)(t),[e])})};return Object(a.useEffect)(function(){e&&e.on("data",function(e){var t=new TextDecoder("utf-8").decode(e);i(t)})},[e]),c.a.createElement("section",{className:y.a.container},c.a.createElement("h2",{className:y.a.title},"CHAT ROOM"),c.a.createElement(k,{addMessage:i}),r.length>0&&c.a.createElement(J,{messages:r}))},T=function(e){var t=e.options,n=Object(a.useState)(),r=Object(s.a)(n,2),o=r[0],i=r[1];return c.a.createElement(f.b,{options:t},c.a.createElement("div",{className:m.a.container},c.a.createElement(b,{setIsConnected:i}),o&&c.a.createElement(M,null),c.a.createElement(v,null),c.a.createElement(x,null)))},W=n(10),B=n.n(W),F=function(e){var t=e.setOptions;return c.a.createElement("div",{className:B.a.container},c.a.createElement("h1",{className:B.a.title},"Select user type"),c.a.createElement("button",{className:B.a.button,onClick:function(){return t({initiator:!0})}},"Host"),c.a.createElement("button",{className:B.a.button,onClick:function(){return t({initiator:!1})}},"Guest"))},H=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:l.a.container},c.a.createElement("h1",{className:l.a.title},"Peer to Peer Chat Demo"),n?c.a.createElement(T,{options:n}):c.a.createElement(F,{setOptions:r}))};var P=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={form:"other-id-form_form__3A4dT",heading:"other-id-form_heading__1M1BS",textarea:"other-id-form_textarea__nlgqQ",button:"other-id-form_button__FhdO6"}}},[[33,1,2]]]);
//# sourceMappingURL=main.548201ac.chunk.js.map